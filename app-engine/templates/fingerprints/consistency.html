{% extends 'layouts/base.html' %}

{# Macros: https://gist.github.com/bearz/7394681 #}
{% macro bootstrap_field(field, label_visible=true) -%}
    <div class="form-group {% if field.errors %}has-error{% endif %} {{ kwargs.pop('class_', '') }}">
        {% if (field.type != 'HiddenField' and field.type !='CSRFTokenField') and label_visible %}
            <label for="{{ field.id }}" class="control-label">{{ field.label }}</label>
        {% endif %}
        {{ field(class_='form-control', **kwargs) }}
        {% if field.errors %}
            {% for e in field.errors %}
                <p class="help-block">{{ e }}</p>
            {% endfor %}
        {% endif %}
    </div>
{%- endmacro %}

{% block title %}App Engine Consistency Demo{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-4 inconsistent-form">
            <h3>Standard (Inconsistent) Form</h3>
            <form method="POST" action="" role="form">
                {{ form.csrf_token }}
                {{ bootstrap_field(form.browser, type='input', disabled=True,
                                   placeholder='Should autofill') }}
                {{ bootstrap_field(form.comment, type='input', placeholder='(Optional)') }}
                {{ bootstrap_field(form.consistency) }}
                <button type="submit" class="btn btn-primary">Go</button>
            </form>
        </div>

        <div class="col-md-4 consistent-form">
        </div>

        <div class="col-md-4 interstitial-form">
        </div>
    </div>
{% endblock %}

{% block javascripts %}
  <script src="/assets/javascripts/summer.js"></script>
{% endblock %}
